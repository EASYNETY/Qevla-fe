{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/123/Documents/Easynet/argon-dashboard/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/123/Documents/Easynet/argon-dashboard/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { endpoints } from \"api-endpoints\";\nimport axios from \"axios\";\nimport { handleMyErrors } from \"./error-handler-service\";\nimport { FETCH_PRODUCTS_STARTED, FETCH_PRODUCTS_SUCCESS } from \"actions/types\"; // import { httpServiceInterfaceOauth2 } from \"./http-service-oauth\";\n\nexport var fetchAllDriver = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n    var data;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return axios.get(endpoints.getDrivers);\n\n          case 3:\n            data = _context.sent;\n            return _context.abrupt(\"return\", data);\n\n          case 7:\n            _context.prev = 7;\n            _context.t0 = _context[\"catch\"](0);\n            return _context.abrupt(\"return\", handleMyErrors(_context.t0));\n\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[0, 7]]);\n  }));\n\n  return function fetchAllDriver() {\n    return _ref.apply(this, arguments);\n  };\n}();\nexport var fetchAllDrivers = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n    var data;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return axios.get(endpoints.getDrivers);\n\n          case 3:\n            data = _context2.sent;\n            return _context2.abrupt(\"return\", data);\n\n          case 7:\n            _context2.prev = 7;\n            _context2.t0 = _context2[\"catch\"](0);\n            return _context2.abrupt(\"return\", handleMyErrors(_context2.t0));\n\n          case 10:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[0, 7]]);\n  }));\n\n  return function fetchAllDrivers() {\n    return _ref2.apply(this, arguments);\n  };\n}();\nexport var fetchDrivers = function fetchDrivers(pageNumber, perPage) {\n  var params = {\n    page: pageNumber,\n    perPage: perPage\n  };\n  return function (dispatch) {\n    dispatch(fetchDriversStarted());\n    axios.get(endpoints.getDrivers, tokenConfig(null, params)).then(function (res) {\n      var drivers = res.data.products;\n      var pagesCount = res.data.pagesCount;\n      dispatch(fetchDriversSuccess(drivers, pagesCount, perPage));\n    }).catch(function (error) {\n      dispatch(fetchDriversFailure(error.message));\n    });\n  };\n};\n\nvar fetchDriversStarted = function fetchDriversStarted() {\n  return {\n    type: FETCH_PRODUCTS_STARTED\n  };\n};\n\nvar fetchDriversSuccess = function fetchDriversSuccess(products, pagesCount) {\n  return {\n    type: FETCH_PRODUCTS_SUCCESS,\n    payload: {\n      products: products,\n      pagesCount: pagesCount\n    }\n  };\n};\n\nvar fetchDriversFailure = function fetchDriversFailure(error) {\n  return {\n    type: FETCH_PRODUCTS_FAILURE,\n    payload: {\n      error: error\n    }\n  };\n};","map":{"version":3,"names":["endpoints","axios","handleMyErrors","FETCH_PRODUCTS_STARTED","FETCH_PRODUCTS_SUCCESS","fetchAllDriver","get","getDrivers","data","fetchAllDrivers","fetchDrivers","pageNumber","perPage","params","page","dispatch","fetchDriversStarted","tokenConfig","then","res","drivers","products","pagesCount","fetchDriversSuccess","catch","error","fetchDriversFailure","message","type","payload","FETCH_PRODUCTS_FAILURE"],"sources":["C:/Users/123/Documents/Easynet/argon-dashboard/src/services/onboarding-service.js"],"sourcesContent":["import { endpoints } from \"api-endpoints\";\r\nimport axios from \"axios\";\r\nimport { handleMyErrors } from \"./error-handler-service\";\r\nimport { FETCH_PRODUCTS_STARTED, FETCH_PRODUCTS_SUCCESS } from \"actions/types\";\r\n// import { httpServiceInterfaceOauth2 } from \"./http-service-oauth\";\r\n\r\n\r\n\r\nexport const fetchAllDriver = async () => {\r\n  try {\r\n    let data = await axios.get(endpoints.getDrivers);\r\n    return data;\r\n  } catch (err) {\r\n    return handleMyErrors(err);\r\n  }\r\n};\r\n\r\nexport const fetchAllDrivers = async () => {\r\n  try {\r\n    const data = await axios.get(endpoints.getDrivers);\r\n\r\n    return data;\r\n  } catch (error) {\r\n    return handleMyErrors(error);\r\n  }\r\n};\r\n\r\n\r\nexport const fetchDrivers = (pageNumber, perPage) => {\r\n  let params = { page: pageNumber, perPage };\r\n\r\n  return (dispatch) => {\r\n    dispatch(fetchDriversStarted());\r\n\r\n    axios\r\n      .get(endpoints.getDrivers, tokenConfig(null, params))\r\n      .then((res) => {\r\n        let drivers = res.data.products;\r\n        let pagesCount = res.data.pagesCount;\r\n\r\n        dispatch(fetchDriversSuccess(drivers, pagesCount, perPage));\r\n      })\r\n      .catch((error) => {\r\n        dispatch(fetchDriversFailure(error.message));\r\n      });\r\n  };\r\n};\r\n\r\n\r\nconst fetchDriversStarted = () => {\r\n  return {\r\n    type: FETCH_PRODUCTS_STARTED,\r\n  };\r\n};\r\n\r\nconst fetchDriversSuccess = (products, pagesCount) => {\r\n  return {\r\n    type: FETCH_PRODUCTS_SUCCESS,\r\n    payload: {\r\n      products,\r\n      pagesCount,\r\n    },\r\n  };\r\n};\r\n\r\nconst fetchDriversFailure = (error) => {\r\n  return {\r\n    type: FETCH_PRODUCTS_FAILURE,\r\n    payload: {\r\n      error,\r\n    },\r\n  };\r\n};\r\n"],"mappings":";;AAAA,SAASA,SAAT,QAA0B,eAA1B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,cAAT,QAA+B,yBAA/B;AACA,SAASC,sBAAT,EAAiCC,sBAAjC,QAA+D,eAA/D,C,CACA;;AAIA,OAAO,IAAMC,cAAc;EAAA,sEAAG;IAAA;IAAA;MAAA;QAAA;UAAA;YAAA;YAAA;YAAA,OAETJ,KAAK,CAACK,GAAN,CAAUN,SAAS,CAACO,UAApB,CAFS;;UAAA;YAEtBC,IAFsB;YAAA,iCAGnBA,IAHmB;;UAAA;YAAA;YAAA;YAAA,iCAKnBN,cAAc,aALK;;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAAH;;EAAA,gBAAdG,cAAc;IAAA;EAAA;AAAA,GAApB;AASP,OAAO,IAAMI,eAAe;EAAA,uEAAG;IAAA;IAAA;MAAA;QAAA;UAAA;YAAA;YAAA;YAAA,OAERR,KAAK,CAACK,GAAN,CAAUN,SAAS,CAACO,UAApB,CAFQ;;UAAA;YAErBC,IAFqB;YAAA,kCAIpBA,IAJoB;;UAAA;YAAA;YAAA;YAAA,kCAMpBN,cAAc,cANM;;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAAH;;EAAA,gBAAfO,eAAe;IAAA;EAAA;AAAA,GAArB;AAWP,OAAO,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAACC,UAAD,EAAaC,OAAb,EAAyB;EACnD,IAAIC,MAAM,GAAG;IAAEC,IAAI,EAAEH,UAAR;IAAoBC,OAAO,EAAPA;EAApB,CAAb;EAEA,OAAO,UAACG,QAAD,EAAc;IACnBA,QAAQ,CAACC,mBAAmB,EAApB,CAAR;IAEAf,KAAK,CACFK,GADH,CACON,SAAS,CAACO,UADjB,EAC6BU,WAAW,CAAC,IAAD,EAAOJ,MAAP,CADxC,EAEGK,IAFH,CAEQ,UAACC,GAAD,EAAS;MACb,IAAIC,OAAO,GAAGD,GAAG,CAACX,IAAJ,CAASa,QAAvB;MACA,IAAIC,UAAU,GAAGH,GAAG,CAACX,IAAJ,CAASc,UAA1B;MAEAP,QAAQ,CAACQ,mBAAmB,CAACH,OAAD,EAAUE,UAAV,EAAsBV,OAAtB,CAApB,CAAR;IACD,CAPH,EAQGY,KARH,CAQS,UAACC,KAAD,EAAW;MAChBV,QAAQ,CAACW,mBAAmB,CAACD,KAAK,CAACE,OAAP,CAApB,CAAR;IACD,CAVH;EAWD,CAdD;AAeD,CAlBM;;AAqBP,IAAMX,mBAAmB,GAAG,SAAtBA,mBAAsB,GAAM;EAChC,OAAO;IACLY,IAAI,EAAEzB;EADD,CAAP;AAGD,CAJD;;AAMA,IAAMoB,mBAAmB,GAAG,SAAtBA,mBAAsB,CAACF,QAAD,EAAWC,UAAX,EAA0B;EACpD,OAAO;IACLM,IAAI,EAAExB,sBADD;IAELyB,OAAO,EAAE;MACPR,QAAQ,EAARA,QADO;MAEPC,UAAU,EAAVA;IAFO;EAFJ,CAAP;AAOD,CARD;;AAUA,IAAMI,mBAAmB,GAAG,SAAtBA,mBAAsB,CAACD,KAAD,EAAW;EACrC,OAAO;IACLG,IAAI,EAAEE,sBADD;IAELD,OAAO,EAAE;MACPJ,KAAK,EAALA;IADO;EAFJ,CAAP;AAMD,CAPD"},"metadata":{},"sourceType":"module"}