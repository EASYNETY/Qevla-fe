{"ast":null,"code":"import _defineProperty from \"C:/Users/123/Documents/Easynet/argon-dashboard/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _slicedToArray from \"C:/Users/123/Documents/Easynet/argon-dashboard/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _regeneratorRuntime from \"C:/Users/123/Documents/Easynet/argon-dashboard/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/123/Documents/Easynet/argon-dashboard/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { generateRandomChars, generateRandomNumber } from \"./helpers\";\nimport { corporateCodePrefix, corporateNameSubstringLength, defaultAppValues, metricValues, responseCodes } from \"./static\";\nimport { format } from \"date-fns\";\nimport moment from \"moment\";\nimport { httpServiceInterfaceOauth2, refreshToken } from \"../services/http-service-oauth\";\nimport { encryptStorage } from \"./encryptor\";\nvar tokenCounterTimeoutId = -1;\nexport var tokenRequeryProcessing = function tokenRequeryProcessing(accessToken) {\n  var _tDet = parseJwt(accessToken);\n\n  var expiresAt = _tDet === null || _tDet === void 0 ? void 0 : _tDet.exp;\n  var expiresAt_ms = expiresAt;\n  var nowNow = moment.now(); // let tokenRequeryInterval = (expiresAt * 1000 - nowNow) * 0.8;\n\n  var tokenRequeryInterval = 180000;\n  encryptStorage.setItem(\"nowNow\", String(nowNow));\n  encryptStorage.setItem(\"expiresAt\", expiresAt_ms);\n  encryptStorage.setItem(\"requeryTime\", String(nowNow + tokenRequeryInterval));\n  encryptStorage.setItem(\"tokenRequeryInterval\", String(tokenRequeryInterval));\n  return {\n    tokenDetails: _tDet,\n    tokenRequeryInterval: tokenRequeryInterval\n  };\n};\nexport var recursiveCountdownTo = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(countdownVal) {\n    var isTokenRefreshed,\n        _args = arguments;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            isTokenRefreshed = _args.length > 1 && _args[1] !== undefined ? _args[1] : false;\n\n            if (!(countdownVal < 1000)) {\n              _context.next = 3;\n              break;\n            }\n\n            return _context.abrupt(\"return\");\n\n          case 3:\n            setTimeout(function () {\n              if (!isTokenRefreshed) {\n                refreshToken();\n              }\n\n              recursiveCountdownTo(countdownVal, isTokenRefreshed);\n            }, countdownVal);\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function recursiveCountdownTo(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar getTokenRefreshTime = function getTokenRefreshTime() {\n  var interval = encryptStorage.getItem(\"tokenRequeryInterval\");\n\n  if (!isNullOrUndefined(interval)) {\n    var time = Number(interval);\n    return time - Math.floor(time / 5);\n  }\n\n  return 5000;\n};\n\nexport var keepTokenFresh = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            setTimeout(function () {\n              refreshToken();\n              keepTokenFresh();\n            }, getTokenRefreshTime());\n\n          case 1:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n\n  return function keepTokenFresh() {\n    return _ref2.apply(this, arguments);\n  };\n}();\nexport var tokenRefreshTimeout = tokenCounterTimeoutId;\nexport var clearTimeouts = function clearTimeouts() {\n  var timeOutId = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n  if (timeOutId > 0) {\n    window.clearTimeout(timeOutId);\n  } else {\n    var noop = function noop() {},\n        firstId = window.setTimeout(noop, 0);\n\n    return function () {\n      var lastId = window.setTimeout(noop, 0);\n      console.log(\"Removing\", lastId - firstId, \"timeout handlers\");\n\n      while (firstId !== lastId) {\n        window.clearTimeout(++firstId);\n      }\n    };\n  }\n};\nexport var isObject = function isObject(item) {\n  return typeof item === \"object\" && !Array.isArray(item) && item !== null && item !== undefined;\n};\nexport var skipObject = function skipObject(arrOfVals, objVal) {\n  var newObj = {};\n\n  if (arrOfVals.length === 0) {\n    for (var _i = 0, _Object$entries = Object.entries(objVal); _i < _Object$entries.length; _i++) {\n      var _Object$entries$_i = _slicedToArray(_Object$entries[_i], 2),\n          keys = _Object$entries$_i[0],\n          values = _Object$entries$_i[1];\n\n      newObj = Object.assign({}, newObj, _defineProperty({}, keys, values));\n    }\n\n    return newObj;\n  } else {\n    for (var _i2 = 0, _Object$entries2 = Object.entries(objVal); _i2 < _Object$entries2.length; _i2++) {\n      var _Object$entries2$_i = _slicedToArray(_Object$entries2[_i2], 2),\n          _keys = _Object$entries2$_i[0],\n          _values = _Object$entries2$_i[1];\n\n      if (!arrOfVals.includes(_keys)) {\n        newObj = Object.assign({}, newObj, _defineProperty({}, _keys, _values));\n      }\n    }\n\n    return newObj;\n  }\n};\nexport var cherryPickObject = function cherryPickObject(arrOfVals, objVal) {\n  var newObj = {};\n\n  for (var _i3 = 0, _Object$entries3 = Object.entries(objVal); _i3 < _Object$entries3.length; _i3++) {\n    var _Object$entries3$_i = _slicedToArray(_Object$entries3[_i3], 2),\n        keys = _Object$entries3$_i[0],\n        values = _Object$entries3$_i[1];\n\n    if (arrOfVals.includes(keys)) {\n      newObj = Object.assign({}, newObj, _defineProperty({}, keys, values));\n    }\n  }\n\n  return newObj;\n};\nexport var hasKeys = function hasKeys(objVal) {\n  return !isNullOrUndefined(objVal) && Object.entries(objVal).length > 0;\n};\nexport var isKeyPresent = function isKeyPresent(objVal, requiredKey) {\n  return !isNullOrUndefined(objVal) && objVal[requiredKey];\n};\nexport var createUUID = function createUUID(prefix) {\n  return prefix + (new Date().getTime().toString(16) + Math.floor(1e7 * Math.random()).toString(16));\n};\nexport var checkValueOrElseUseDefinedVal = function checkValueOrElseUseDefinedVal(val, definedString) {\n  return val !== null && val !== undefined ? val : definedString;\n};\nexport var isEmptyString = function isEmptyString(val) {\n  return val === null || val === undefined || val.length === 0;\n};\nexport var isANumber = function isANumber(val) {\n  return val !== null && val !== undefined && !Number.isNaN(val);\n};\nexport var valueIsLessThan = function valueIsLessThan(val, operand) {\n  return isANumber(val) && val < operand;\n};\nexport var valueIsGreaterThan = function valueIsGreaterThan(val, operand) {\n  return isANumber(val) && val > operand;\n};\nexport var isEmptyArray = function isEmptyArray(val) {\n  return val === null || val === undefined || val.length === 0;\n};\nexport var isNullOrUndefined = function isNullOrUndefined(val) {\n  return val === null || val === undefined || val === {};\n};\nexport var trueOrFalse = function trueOrFalse(val) {\n  return checkValueOrElseUseDefinedVal(val, \"\") !== \"\" && val !== null && (val === null || val === void 0 ? void 0 : val.toString().toLowerCase()) === \"true\" ? true : val.toString().toLowerCase() === \"false\" ? false : val;\n};\nexport var isYesOrNo = function isYesOrNo(val) {\n  return checkValueOrElseUseDefinedVal(val, \"\") !== \"\" && trueOrFalse(val) === false ? \"No\" : trueOrFalse(val) === true ? \"Yes\" : val;\n};\nexport var parseResponse = function parseResponse(val, fallbackRes) {\n  if (checkValueOrElseUseDefinedVal(val, \"\") !== \"\") {\n    var _val$actionResponse;\n\n    var resMessage = checkValueOrElseUseDefinedVal(val === null || val === void 0 ? void 0 : (_val$actionResponse = val.actionResponse) === null || _val$actionResponse === void 0 ? void 0 : _val$actionResponse.message, fallbackRes);\n    return resMessage;\n  } else {\n    return fallbackRes;\n  }\n};\nexport var isSuccessful = function isSuccessful(val) {\n  return val !== null && val !== undefined && val === \"00\" || val === true || String(val).toLowerCase() === \"successful\";\n};\nexport var isDeclined = function isDeclined(val) {\n  return val !== null && val !== undefined && val === \"05\" || val === true || String(val).toLowerCase() === \"successful\";\n};\nexport var isNotFound = function isNotFound(val) {\n  return val !== null && val !== undefined && val === responseCodes.NO_RECORD_FOUND;\n};\nexport var splitString = function splitString(val, regexp) {\n  var res = \"\";\n\n  if (!isEmptyString(val)) {\n    res = val.split(regexp).join(\" \");\n  }\n\n  return res;\n};\nexport var splitObject = function splitObject(val) {\n  var res = \"\";\n\n  for (var _i4 = 0, _Object$entries4 = Object.entries(val); _i4 < _Object$entries4.length; _i4++) {\n    var _Object$entries4$_i = _slicedToArray(_Object$entries4[_i4], 2),\n        value = _Object$entries4$_i[1];\n\n    res += String(value).concat(\"<br/>\");\n  }\n\n  return res;\n};\nexport var camelCaseToSentenceCase = function camelCaseToSentenceCase(val) {\n  var res = \"\";\n\n  try {\n    if (!isEmptyString(val)) {\n      res = val.replace(/([a-zA-Z])(?=[A-Z])/g, \"$1 \");\n    }\n  } catch (error) {\n    console.log(\"ERROR OCCURRED WHILE PARSING:::\", error);\n  }\n\n  return capitaliseFirstLetter(res);\n};\nexport var upperCaseCharAt = function upperCaseCharAt(val, loc) {\n  var res = val;\n\n  if (!isEmptyString(val)) {\n    res = val.length > 0 ? val.charAt(loc).toUpperCase() : val;\n  }\n\n  return res;\n};\nexport var capitaliseFirstLetter = function capitaliseFirstLetter(val) {\n  var res = val;\n\n  if (!isEmptyString(val)) {\n    res = val.length > 0 ? val.charAt(0).toUpperCase() + val.slice(1) : val;\n  }\n\n  return res;\n};\nexport var makeTitleCase = function makeTitleCase(stringInContext) {\n  var titleSentence = stringInContext.toLowerCase().split(\" \");\n\n  for (var i = 0; i < titleSentence.length; i++) {\n    titleSentence[i] = titleSentence[i][0].toUpperCase() + titleSentence[i].slice(1) + \" \";\n  }\n\n  return titleSentence;\n};\nexport var makeSentenceCase = function makeSentenceCase(val) {\n  var res = val;\n\n  if (!isEmptyString(val)) {\n    res = val.length > 0 ? val.charAt(0).toUpperCase() + val.slice(1) : val;\n  }\n\n  return res;\n};\nexport var getSessionId = function getSessionId() {\n  return /SESS\\w*ID=([^;]+)/i.test(document.cookie) ? RegExp.$1 : false;\n};\nexport var useGoBack = function useGoBack() {};\nexport var wait = function wait(ms) {\n  return new Promise(function (resolve) {\n    return setTimeout(resolve, ms);\n  });\n};\nexport var grouper = function grouper(key) {\n  return function (array) {\n    var asObject = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    return array.reduce(function (objectsByKeyValue, obj) {\n      var value = obj[key];\n      objectsByKeyValue[value] = (objectsByKeyValue[value] || []).concat(obj);\n      return objectsByKeyValue;\n    }, asObject);\n  };\n};\nexport var groupByHelper = grouper(\"parentMenuName\");\nexport var groupByReferenceNumber = grouper(\"requestReference\");\nexport var stringStripper = function stringStripper(_ref3) {\n  var stringInContext = _ref3.stringInContext,\n      replacer = _ref3.replacer,\n      replacee = _ref3.replacee;\n  var stringAfterReplacement = \"\";\n\n  try {\n    stringAfterReplacement = stringInContext.replaceAll(replacee !== null && replacee !== void 0 ? replacee : \"\", replacer === \"\" ? \"\" : replacer);\n  } catch (error) {\n    stringAfterReplacement = stringInContext;\n  }\n\n  return stringAfterReplacement;\n};\nexport var toDateFormat = function toDateFormat(date, dateFormat) {\n  var d = isNullOrUndefined(date) ? new Date() : new Date(date);\n  var dtString = \"\";\n\n  switch (dateFormat) {\n    case \"yyyy-MM-dd\":\n      dtString = format(new Date(), dateFormat);\n      break;\n\n    default:\n      dtString = String(d.getDate()).concat(String(d.getMonth() + 1), String(d.getFullYear()));\n      break;\n  }\n\n  return dtString;\n};\nexport var generateCorporateCodePattern = function generateCorporateCodePattern() {\n  var companyName = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n  var corporateCodeVal = \"\";\n\n  if (!isNullOrUndefined(companyName)) {\n    if (companyName.length > corporateNameSubstringLength) {\n      corporateCodeVal = corporateCodePrefix.concat(companyName.substring(0, corporateNameSubstringLength), generateRandomChars(3));\n    } else {\n      corporateCodeVal = corporateCodePrefix.concat(companyName, generateRandomChars(3));\n    }\n  }\n\n  return corporateCodeVal.length > 0 ? corporateCodeVal.toLocaleLowerCase() : corporateCodeVal;\n};\nexport var generateUsernamePattern = function generateUsernamePattern() {\n  var username = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n  var usernameVal = \"\";\n\n  if (!isNullOrUndefined(username)) {\n    usernameVal = shuffle(username);\n  }\n\n  return usernameVal.length > 0 ? usernameVal.toLocaleLowerCase() : usernameVal;\n};\nexport var shuffle = function shuffle(stringToRandomize) {\n  var arr = stringToRandomize.split(\"\");\n  var n = arr.length;\n\n  for (var i = 0; i < n - 1; ++i) {\n    var j = generateRandomNumber(n);\n    var temp = arr[i];\n    arr[i] = arr[j];\n    arr[j] = temp;\n  }\n\n  stringToRandomize = arr.join(\"\");\n  return stringToRandomize;\n};\nexport var buildDateRangeString = function buildDateRangeString(data) {\n  return data.startDate.concat(\"/\", data === null || data === void 0 ? void 0 : data.endDate, \"/\", (data === null || data === void 0 ? void 0 : data.requestTypeId) === \"APPROVED\" ? 1 : 0);\n};\nexport var sanitizeUrl = function sanitizeUrl(data) {\n  return data.startsWith(\"/\") ? data.substr(1) : data;\n};\nexport var getToday = function getToday() {\n  var myDate = new Date();\n  var year = String(myDate.getFullYear());\n  var month = myDate.getMonth() < 10 ? \"0\" + myDate.getMonth() : myDate.getMonth();\n  var day = myDate.getDay() < 10 ? \"0\" + myDate.getDay() : myDate.getDay();\n  var finalDate = String(month + day + year);\n  return finalDate;\n};\nexport var stringSplitter = function stringSplitter(splitBy, stringToSplit) {\n  try {\n    var splittedString = stringToSplit.trim().split(splitBy);\n    var splittedStringArr = splittedString.join(\" \");\n    return splittedStringArr;\n  } catch (error) {\n    return stringToSplit;\n  }\n};\nexport var parseJwt = function parseJwt(token) {\n  try {\n    var base64Url = token.split(\".\")[1];\n    var base64 = base64Url.replace(/-/g, \"+\").replace(/_/g, \"/\");\n    var jsonPayload = decodeURIComponent(atob(base64).split(\"\").map(function (c) {\n      return \"%\" + (\"00\" + c.charCodeAt(0).toString(16)).slice(-2);\n    }).join(\"\"));\n    return JSON.parse(jsonPayload);\n  } catch (err) {\n    return null;\n  }\n};\nexport var isTokenExpired = function isTokenExpired(tokenExpiryIn) {\n  var nowNow = moment().toDate().getTime();\n  var isExpired = moment(nowNow).isAfter(moment(tokenExpiryIn));\n  return isExpired;\n};\nexport var isTokenCloseToExpiry = function isTokenCloseToExpiry(tokenExpiryIn) {\n  var _encryptStorage$getIt;\n\n  var nowNow = moment().toDate().getTime();\n  var willExpireIn = moment(tokenExpiryIn);\n  var isExpiringIn = willExpireIn.diff(nowNow);\n  var requeryT = (_encryptStorage$getIt = encryptStorage.getItem(\"tokenRequeryTime\")) !== null && _encryptStorage$getIt !== void 0 ? _encryptStorage$getIt : -1;\n  return requeryT === -1 ? true : requeryT >= isExpiringIn;\n};\nexport var checkTokenStatus = function checkTokenStatus() {\n  var response = true;\n  var inputterTokenEnabled = true;\n  var tokenEnabled = true;\n  var httpClientJwt = httpServiceInterfaceOauth2.getJwt();\n\n  if (isNullOrUndefined(httpClientJwt)) {\n    return response;\n  } else {\n    var accessJwt = parseJwt(httpClientJwt);\n    inputterTokenEnabled = !isNullOrUndefined(accessJwt) && !isNullOrUndefined(inputterTokenEnabled) ? accessJwt.corporate_inputter_token_enabled : inputterTokenEnabled;\n    tokenEnabled = !isNullOrUndefined(accessJwt) && !isNullOrUndefined(tokenEnabled) ? accessJwt.user_token_enabled : tokenEnabled;\n\n    if (inputterTokenEnabled || !inputterTokenEnabled && tokenEnabled) {\n      return response;\n    } else {\n      return false;\n    }\n  }\n};\nexport var getTokenVal = function getTokenVal() {\n  return httpServiceInterfaceOauth2.getJwt();\n};\nexport var ParseUploadedJson = function ParseUploadedJson(jsonArray) {\n  // The first object of the array is not neccessary\n  jsonArray.shift(); // extract the headings\n\n  var headings = Object.values(jsonArray[0]); // remove the heading row\n\n  jsonArray.shift();\n  var totalAmount = 0; // Create a Json object that properly represents the excel file\n\n  var CsvObjectArray = jsonArray.map(function (row) {\n    var rowValuesArray = Object.values(row);\n    var rowObject = {};\n\n    for (var i = 0; i < headings.length; i++) {\n      rowObject[headings[i]] = rowValuesArray[i];\n      if (headings[i] === \"AMOUNT\") totalAmount = totalAmount + Number(rowValuesArray[i]);\n    }\n\n    return rowObject;\n  });\n  return {\n    CsvObjectArray: CsvObjectArray,\n    totalAmount: totalAmount\n  };\n};\n_c = ParseUploadedJson;\nexport var defineMandateRule = function defineMandateRule(mandateType) {\n  var mandateRule = Object.assign({\n    globalRule: true\n  });\n\n  switch (mandateType) {\n    case defaultAppValues.mandateTypes.accountBasedMandateType:\n      mandateRule = {\n        accountRule: true\n      };\n      break;\n\n    case defaultAppValues.mandateTypes.amountBasedMandateType:\n      mandateRule = {\n        amountRule: true\n      };\n      break;\n\n    case defaultAppValues.mandateTypes.moduleBasedMandateType:\n      mandateRule = {\n        moduleRule: true\n      };\n      break;\n\n    default:\n      break;\n  }\n\n  return mandateRule;\n};\nexport var pageRefresher = function pageRefresher() {\n  var url = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n  setTimeout(function () {\n    if (url !== \"\") {\n      window.location.href = url;\n    } else {\n      window.location.reload();\n    }\n  }, metricValues.timeToPageReloadAfterSuccess);\n};\n\nvar _c;\n\n$RefreshReg$(_c, \"ParseUploadedJson\");","map":{"version":3,"names":["generateRandomChars","generateRandomNumber","corporateCodePrefix","corporateNameSubstringLength","defaultAppValues","metricValues","responseCodes","format","moment","httpServiceInterfaceOauth2","refreshToken","encryptStorage","tokenCounterTimeoutId","tokenRequeryProcessing","accessToken","_tDet","parseJwt","expiresAt","exp","expiresAt_ms","nowNow","now","tokenRequeryInterval","setItem","String","tokenDetails","recursiveCountdownTo","countdownVal","isTokenRefreshed","setTimeout","getTokenRefreshTime","interval","getItem","isNullOrUndefined","time","Number","Math","floor","keepTokenFresh","tokenRefreshTimeout","clearTimeouts","timeOutId","window","clearTimeout","noop","firstId","lastId","console","log","isObject","item","Array","isArray","undefined","skipObject","arrOfVals","objVal","newObj","length","Object","entries","keys","values","assign","includes","cherryPickObject","hasKeys","isKeyPresent","requiredKey","createUUID","prefix","Date","getTime","toString","random","checkValueOrElseUseDefinedVal","val","definedString","isEmptyString","isANumber","isNaN","valueIsLessThan","operand","valueIsGreaterThan","isEmptyArray","trueOrFalse","toLowerCase","isYesOrNo","parseResponse","fallbackRes","resMessage","actionResponse","message","isSuccessful","isDeclined","isNotFound","NO_RECORD_FOUND","splitString","regexp","res","split","join","splitObject","value","concat","camelCaseToSentenceCase","replace","error","capitaliseFirstLetter","upperCaseCharAt","loc","charAt","toUpperCase","slice","makeTitleCase","stringInContext","titleSentence","i","makeSentenceCase","getSessionId","test","document","cookie","RegExp","$1","useGoBack","wait","ms","Promise","resolve","grouper","key","array","asObject","reduce","objectsByKeyValue","obj","groupByHelper","groupByReferenceNumber","stringStripper","replacer","replacee","stringAfterReplacement","replaceAll","toDateFormat","date","dateFormat","d","dtString","getDate","getMonth","getFullYear","generateCorporateCodePattern","companyName","corporateCodeVal","substring","toLocaleLowerCase","generateUsernamePattern","username","usernameVal","shuffle","stringToRandomize","arr","n","j","temp","buildDateRangeString","data","startDate","endDate","requestTypeId","sanitizeUrl","startsWith","substr","getToday","myDate","year","month","day","getDay","finalDate","stringSplitter","splitBy","stringToSplit","splittedString","trim","splittedStringArr","token","base64Url","base64","jsonPayload","decodeURIComponent","atob","map","c","charCodeAt","JSON","parse","err","isTokenExpired","tokenExpiryIn","toDate","isExpired","isAfter","isTokenCloseToExpiry","willExpireIn","isExpiringIn","diff","requeryT","checkTokenStatus","response","inputterTokenEnabled","tokenEnabled","httpClientJwt","getJwt","accessJwt","corporate_inputter_token_enabled","user_token_enabled","getTokenVal","ParseUploadedJson","jsonArray","shift","headings","totalAmount","CsvObjectArray","row","rowValuesArray","rowObject","defineMandateRule","mandateType","mandateRule","globalRule","mandateTypes","accountBasedMandateType","accountRule","amountBasedMandateType","amountRule","moduleBasedMandateType","moduleRule","pageRefresher","url","location","href","reload","timeToPageReloadAfterSuccess"],"sources":["C:/Users/123/Documents/Easynet/argon-dashboard/src/utils/tools.js"],"sourcesContent":["import { generateRandomChars, generateRandomNumber } from \"./helpers\";\r\nimport {\r\n  corporateCodePrefix,\r\n  corporateNameSubstringLength,\r\n  defaultAppValues,\r\n  metricValues,\r\n  responseCodes,\r\n} from \"./static\";\r\nimport { format } from \"date-fns\";\r\nimport moment from \"moment\";\r\nimport {\r\n  httpServiceInterfaceOauth2,\r\n  refreshToken,\r\n} from \"../services/http-service-oauth\";\r\nimport { encryptStorage } from \"./encryptor\";\r\n\r\nlet tokenCounterTimeoutId = -1;\r\n\r\nexport const tokenRequeryProcessing = (accessToken: string) => {\r\n  let _tDet = parseJwt(accessToken);\r\n  let expiresAt = _tDet?.exp;\r\n  let expiresAt_ms = expiresAt;\r\n  let nowNow = moment.now();\r\n  // let tokenRequeryInterval = (expiresAt * 1000 - nowNow) * 0.8;\r\n  let tokenRequeryInterval = 180000;\r\n  encryptStorage.setItem(\"nowNow\", String(nowNow));\r\n  encryptStorage.setItem(\"expiresAt\", expiresAt_ms);\r\n  encryptStorage.setItem(\"requeryTime\", String(nowNow + tokenRequeryInterval));\r\n  encryptStorage.setItem(\"tokenRequeryInterval\", String(tokenRequeryInterval));\r\n\r\n  return { tokenDetails: _tDet, tokenRequeryInterval: tokenRequeryInterval };\r\n};\r\nexport const recursiveCountdownTo = async (\r\n  countdownVal: any,\r\n  isTokenRefreshed = false\r\n) => {\r\n  if (countdownVal < 1000) {\r\n    return;\r\n  }\r\n  setTimeout(() => {\r\n    if (!isTokenRefreshed) {\r\n      refreshToken();\r\n    }\r\n    recursiveCountdownTo(countdownVal, isTokenRefreshed);\r\n  }, countdownVal);\r\n};\r\nconst getTokenRefreshTime = () => {\r\n  let interval = encryptStorage.getItem(\"tokenRequeryInterval\")\r\n  if (!isNullOrUndefined(interval)) {\r\n    let time = Number(interval)\r\n    return time - (Math.floor(time / 5))\r\n  }\r\n  return 5000\r\n}\r\nexport const keepTokenFresh = async () => {\r\n  setTimeout(() => {\r\n    refreshToken()\r\n    keepTokenFresh()\r\n  }, getTokenRefreshTime());\r\n}\r\n\r\nexport const tokenRefreshTimeout = tokenCounterTimeoutId;\r\nexport const clearTimeouts = (timeOutId = 0) => {\r\n  if (timeOutId > 0) {\r\n    window.clearTimeout(timeOutId);\r\n  } else {\r\n    var noop = function () { },\r\n      firstId = window.setTimeout(noop, 0);\r\n    return function () {\r\n      var lastId = window.setTimeout(noop, 0);\r\n      console.log(\"Removing\", lastId - firstId, \"timeout handlers\");\r\n      while (firstId !== lastId) window.clearTimeout(++firstId);\r\n    };\r\n  }\r\n};\r\n\r\nexport const isObject = (item: any) => {\r\n  return (\r\n    typeof item === \"object\" &&\r\n    !Array.isArray(item) &&\r\n    item !== null &&\r\n    item !== undefined\r\n  );\r\n};\r\n\r\nexport const skipObject = (arrOfVals: any, objVal: any) => {\r\n  let newObj: any = {};\r\n  if (arrOfVals.length === 0) {\r\n    for (const [keys, values] of Object.entries(objVal)) {\r\n      newObj = Object.assign({}, newObj, {\r\n        [keys]: values,\r\n      });\r\n    }\r\n    return newObj;\r\n  } else {\r\n    for (const [keys, values] of Object.entries(objVal)) {\r\n      if (!arrOfVals.includes(keys)) {\r\n        newObj = Object.assign({}, newObj, {\r\n          [keys]: values,\r\n        });\r\n      }\r\n    }\r\n    return newObj;\r\n  }\r\n};\r\n\r\nexport const cherryPickObject = (arrOfVals: any, objVal: any) => {\r\n  let newObj: any = {};\r\n  for (const [keys, values] of Object.entries(objVal)) {\r\n    if (arrOfVals.includes(keys)) {\r\n      newObj = Object.assign({}, newObj, {\r\n        [keys]: values,\r\n      });\r\n    }\r\n  }\r\n  return newObj;\r\n};\r\n\r\nexport const hasKeys = (objVal: any) => {\r\n  return !isNullOrUndefined(objVal) && Object.entries(objVal).length > 0;\r\n};\r\nexport const isKeyPresent = (objVal: any, requiredKey: string) => {\r\n  return !isNullOrUndefined(objVal) && objVal[requiredKey];\r\n};\r\n\r\nexport const createUUID = (prefix: string) => {\r\n  return (\r\n    prefix +\r\n    (new Date().getTime().toString(16) +\r\n      Math.floor(1e7 * Math.random()).toString(16))\r\n  );\r\n};\r\n\r\nexport const checkValueOrElseUseDefinedVal = (\r\n  val: any,\r\n  definedString: string\r\n) => {\r\n  return val !== null && val !== undefined ? val : definedString;\r\n};\r\n\r\nexport const isEmptyString = (val: any) => {\r\n  return val === null || val === undefined || val.length === 0;\r\n};\r\n\r\nexport const isANumber = (val: any) => {\r\n  return val !== null && val !== undefined && !Number.isNaN(val);\r\n};\r\n\r\nexport const valueIsLessThan = (val: any, operand: number) => {\r\n  return isANumber(val) && val < operand;\r\n};\r\n\r\nexport const valueIsGreaterThan = (val: any, operand: number) => {\r\n  return isANumber(val) && val > operand;\r\n};\r\n\r\nexport const isEmptyArray = (val: any) => {\r\n  return val === null || val === undefined || val.length === 0;\r\n};\r\n\r\nexport const isNullOrUndefined = (val: any) => {\r\n  return val === null || val === undefined || val === {};\r\n};\r\n\r\nexport const trueOrFalse = (val: any) => {\r\n  return checkValueOrElseUseDefinedVal(val, \"\") !== \"\" &&\r\n    val !== null &&\r\n    val?.toString().toLowerCase() === \"true\"\r\n    ? true\r\n    : val.toString().toLowerCase() === \"false\"\r\n      ? false\r\n      : val;\r\n};\r\n\r\nexport const isYesOrNo = (val: any) => {\r\n  return checkValueOrElseUseDefinedVal(val, \"\") !== \"\" &&\r\n    trueOrFalse(val) === false\r\n    ? \"No\"\r\n    : trueOrFalse(val) === true\r\n      ? \"Yes\"\r\n      : val;\r\n};\r\n\r\nexport const parseResponse = (val: any, fallbackRes: string) => {\r\n  if (checkValueOrElseUseDefinedVal(val, \"\") !== \"\") {\r\n    let resMessage = checkValueOrElseUseDefinedVal(\r\n      val?.actionResponse?.message,\r\n      fallbackRes\r\n    );\r\n\r\n    return resMessage;\r\n  } else {\r\n    return fallbackRes;\r\n  }\r\n};\r\n\r\nexport const isSuccessful = (val: any) => {\r\n  return (\r\n    (val !== null && val !== undefined && val === \"00\") ||\r\n    val === true ||\r\n    String(val).toLowerCase() === \"successful\"\r\n  );\r\n};\r\nexport const isDeclined = (val: any) => {\r\n  return (\r\n    (val !== null && val !== undefined && val === \"05\") ||\r\n    val === true ||\r\n    String(val).toLowerCase() === \"successful\"\r\n  );\r\n};\r\nexport const isNotFound = (val: any) => {\r\n  return (\r\n    val !== null && val !== undefined && val === responseCodes.NO_RECORD_FOUND\r\n  );\r\n};\r\nexport const splitString = (val: string, regexp: string) => {\r\n  let res = \"\";\r\n  if (!isEmptyString(val)) {\r\n    res = val.split(regexp).join(\" \");\r\n  }\r\n  return res;\r\n};\r\nexport const splitObject = (val: any) => {\r\n  let res = \"\";\r\n  for (const [, value] of Object.entries(val)) {\r\n    res += String(value).concat(\"<br/>\");\r\n  }\r\n  return res;\r\n};\r\n\r\nexport const camelCaseToSentenceCase = (val: string) => {\r\n  let res = \"\";\r\n  try {\r\n    if (!isEmptyString(val)) {\r\n      res = val.replace(/([a-zA-Z])(?=[A-Z])/g, \"$1 \");\r\n    }\r\n  } catch (error) {\r\n    console.log(\"ERROR OCCURRED WHILE PARSING:::\", error);\r\n  }\r\n\r\n  return capitaliseFirstLetter(res);\r\n};\r\n\r\nexport const upperCaseCharAt = (val: string, loc: number) => {\r\n  let res = val;\r\n  if (!isEmptyString(val)) {\r\n    res = val.length > 0 ? val.charAt(loc).toUpperCase() : val;\r\n  }\r\n  return res;\r\n};\r\nexport const capitaliseFirstLetter = (val: string) => {\r\n  let res = val;\r\n  if (!isEmptyString(val)) {\r\n    res = val.length > 0 ? val.charAt(0).toUpperCase() + val.slice(1) : val;\r\n  }\r\n  return res;\r\n};\r\n\r\nexport const makeTitleCase = (stringInContext: string) => {\r\n  let titleSentence = stringInContext.toLowerCase().split(\" \");\r\n  for (let i = 0; i < titleSentence.length; i++) {\r\n    titleSentence[i] =\r\n      titleSentence[i][0].toUpperCase() + titleSentence[i].slice(1) + \" \";\r\n  }\r\n  return titleSentence;\r\n};\r\n\r\nexport const makeSentenceCase = (val: string) => {\r\n  let res = val;\r\n  if (!isEmptyString(val)) {\r\n    res = val.length > 0 ? val.charAt(0).toUpperCase() + val.slice(1) : val;\r\n  }\r\n  return res;\r\n};\r\n\r\nexport const getSessionId = () => {\r\n  return /SESS\\w*ID=([^;]+)/i.test(document.cookie) ? RegExp.$1 : false;\r\n};\r\n\r\nexport const useGoBack = () => { };\r\n\r\nexport const wait = (ms: any) =>\r\n  new Promise((resolve) => setTimeout(resolve, ms));\r\n\r\nexport const grouper =\r\n  (key: any) =>\r\n    (array: any[], asObject = {}) =>\r\n      array.reduce((objectsByKeyValue, obj) => {\r\n        const value = obj[key];\r\n        objectsByKeyValue[value] = (objectsByKeyValue[value] || []).concat(obj);\r\n        return objectsByKeyValue;\r\n      }, asObject);\r\n\r\nexport const groupByHelper = grouper(\"parentMenuName\");\r\nexport const groupByReferenceNumber = grouper(\"requestReference\");\r\nexport const stringStripper = ({\r\n  stringInContext,\r\n  replacer,\r\n  replacee,\r\n}: any) => {\r\n  let stringAfterReplacement = \"\";\r\n  try {\r\n    stringAfterReplacement = stringInContext.replaceAll(\r\n      replacee ?? \"\",\r\n      replacer === \"\" ? \"\" : replacer\r\n    );\r\n  } catch (error) {\r\n    stringAfterReplacement = stringInContext;\r\n  }\r\n  return stringAfterReplacement;\r\n};\r\n\r\nexport const toDateFormat = (date: any, dateFormat?: string) => {\r\n  let d = isNullOrUndefined(date) ? new Date() : new Date(date);\r\n  let dtString = \"\";\r\n  switch (dateFormat) {\r\n    case \"yyyy-MM-dd\":\r\n      dtString = format(new Date(), dateFormat);\r\n      break;\r\n    default:\r\n      dtString = String(d.getDate()).concat(\r\n        String(d.getMonth() + 1),\r\n        String(d.getFullYear())\r\n      );\r\n      break;\r\n  }\r\n\r\n  return dtString;\r\n};\r\n\r\nexport const generateCorporateCodePattern = (companyName = \"\") => {\r\n  let corporateCodeVal = \"\";\r\n  if (!isNullOrUndefined(companyName)) {\r\n    if (companyName.length > corporateNameSubstringLength) {\r\n      corporateCodeVal = corporateCodePrefix.concat(\r\n        companyName.substring(0, corporateNameSubstringLength),\r\n        generateRandomChars(3)\r\n      );\r\n    } else {\r\n      corporateCodeVal = corporateCodePrefix.concat(\r\n        companyName,\r\n        generateRandomChars(3)\r\n      );\r\n    }\r\n  }\r\n  return corporateCodeVal.length > 0\r\n    ? corporateCodeVal.toLocaleLowerCase()\r\n    : corporateCodeVal;\r\n};\r\n\r\nexport const generateUsernamePattern = (username = \"\") => {\r\n  let usernameVal = \"\";\r\n  if (!isNullOrUndefined(username)) {\r\n    usernameVal = shuffle(username);\r\n  }\r\n\r\n  return usernameVal.length > 0 ? usernameVal.toLocaleLowerCase() : usernameVal;\r\n};\r\n\r\nexport const shuffle = (stringToRandomize: string) => {\r\n  var arr = stringToRandomize.split(\"\");\r\n  var n = arr.length;\r\n\r\n  for (var i = 0; i < n - 1; ++i) {\r\n    var j = generateRandomNumber(n);\r\n\r\n    var temp = arr[i];\r\n    arr[i] = arr[j];\r\n    arr[j] = temp;\r\n  }\r\n\r\n  stringToRandomize = arr.join(\"\");\r\n  return stringToRandomize;\r\n};\r\n\r\nexport const buildDateRangeString = (data: any) => {\r\n  return data.startDate.concat(\r\n    \"/\",\r\n    data?.endDate,\r\n    \"/\",\r\n    data?.requestTypeId === \"APPROVED\" ? 1 : 0\r\n  );\r\n};\r\n\r\nexport const sanitizeUrl = (data: string) => {\r\n  return data.startsWith(\"/\") ? data.substr(1) : data;\r\n};\r\n\r\nexport const getToday = () => {\r\n  let myDate = new Date();\r\n  let year: any = String(myDate.getFullYear());\r\n  let month: any =\r\n    myDate.getMonth() < 10 ? \"0\" + myDate.getMonth() : myDate.getMonth();\r\n  let day: any = myDate.getDay() < 10 ? \"0\" + myDate.getDay() : myDate.getDay();\r\n\r\n  let finalDate = String(month + day + year);\r\n  return finalDate;\r\n};\r\n\r\nexport const stringSplitter = (splitBy: string, stringToSplit: string) => {\r\n  try {\r\n    let splittedString = stringToSplit.trim().split(splitBy);\r\n    let splittedStringArr = splittedString.join(\" \");\r\n\r\n    return splittedStringArr;\r\n  } catch (error) {\r\n    return stringToSplit;\r\n  }\r\n};\r\n\r\nexport const parseJwt = (token: any) => {\r\n  try {\r\n    let base64Url = token.split(\".\")[1];\r\n    let base64 = base64Url.replace(/-/g, \"+\").replace(/_/g, \"/\");\r\n    let jsonPayload = decodeURIComponent(\r\n      atob(base64)\r\n        .split(\"\")\r\n        .map(function (c) {\r\n          return \"%\" + (\"00\" + c.charCodeAt(0).toString(16)).slice(-2);\r\n        })\r\n        .join(\"\")\r\n    );\r\n    return JSON.parse(jsonPayload);\r\n  } catch (err) {\r\n    return null;\r\n  }\r\n};\r\n\r\nexport const isTokenExpired = (tokenExpiryIn: number) => {\r\n  let nowNow = moment().toDate().getTime();\r\n  let isExpired = moment(nowNow).isAfter(moment(tokenExpiryIn));\r\n  return isExpired;\r\n};\r\n\r\nexport const isTokenCloseToExpiry = (tokenExpiryIn: number) => {\r\n  let nowNow = moment().toDate().getTime();\r\n  let willExpireIn = moment(tokenExpiryIn);\r\n  let isExpiringIn = willExpireIn.diff(nowNow);\r\n  let requeryT = encryptStorage.getItem(\"tokenRequeryTime\") ?? -1;\r\n  return requeryT === -1 ? true : requeryT >= isExpiringIn;\r\n};\r\n\r\nexport const checkTokenStatus = () => {\r\n  let response = true;\r\n  let inputterTokenEnabled = true;\r\n  let tokenEnabled = true;\r\n\r\n  let httpClientJwt = httpServiceInterfaceOauth2.getJwt();\r\n\r\n  if (isNullOrUndefined(httpClientJwt)) {\r\n    return response;\r\n  } else {\r\n    let accessJwt: any = parseJwt(httpClientJwt);\r\n    inputterTokenEnabled =\r\n      !isNullOrUndefined(accessJwt) && !isNullOrUndefined(inputterTokenEnabled)\r\n        ? accessJwt.corporate_inputter_token_enabled\r\n        : inputterTokenEnabled;\r\n\r\n    tokenEnabled =\r\n      !isNullOrUndefined(accessJwt) && !isNullOrUndefined(tokenEnabled)\r\n        ? accessJwt.user_token_enabled\r\n        : tokenEnabled;\r\n\r\n    if (inputterTokenEnabled || (!inputterTokenEnabled && tokenEnabled)) {\r\n      return response;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n};\r\n\r\nexport const getTokenVal = () => {\r\n  return httpServiceInterfaceOauth2.getJwt();\r\n};\r\n\r\nexport const ParseUploadedJson = (jsonArray: any[]) => {\r\n  // The first object of the array is not neccessary\r\n  jsonArray.shift()\r\n\r\n  // extract the headings\r\n  const headings: any[] = Object.values(jsonArray[0])\r\n\r\n  // remove the heading row\r\n  jsonArray.shift()\r\n\r\n  let totalAmount = 0\r\n  // Create a Json object that properly represents the excel file\r\n  const CsvObjectArray = jsonArray.map((row) => {\r\n    const rowValuesArray = Object.values(row)\r\n    const rowObject: any = {}\r\n    for (let i = 0; i < headings.length; i++) {\r\n      rowObject[headings[i]] = rowValuesArray[i]\r\n      if (headings[i] === \"AMOUNT\") totalAmount = totalAmount + Number(rowValuesArray[i])\r\n    }\r\n    return rowObject\r\n  })\r\n  return { CsvObjectArray, totalAmount }\r\n}\r\n\r\nexport const defineMandateRule = (mandateType?: string) => {\r\n  let mandateRule = Object.assign({ globalRule: true });\r\n  switch (mandateType) {\r\n    case defaultAppValues.mandateTypes.accountBasedMandateType:\r\n      mandateRule = { accountRule: true };\r\n      break;\r\n    case defaultAppValues.mandateTypes.amountBasedMandateType:\r\n      mandateRule = { amountRule: true };\r\n      break;\r\n    case defaultAppValues.mandateTypes.moduleBasedMandateType:\r\n      mandateRule = { moduleRule: true };\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n  return mandateRule;\r\n};\r\n\r\nexport const pageRefresher = (url = \"\") => {\r\n  setTimeout(() => {\r\n    if (url !== \"\") {\r\n      window.location.href = url;\r\n    } else {\r\n      window.location.reload();\r\n    }\r\n  }, metricValues.timeToPageReloadAfterSuccess);\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}